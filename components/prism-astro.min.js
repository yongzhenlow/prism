!function(t){if(!t.languages.astro){var e;t.languages.typescript?e="typescript":(e="javascript",console.warn("Prism TypeScript language not loaded, Astro scripts will be treated as JavaScript."));var n=t.util.clone(t.languages[e]),a="(?:\\{<S>*\\.{3}(?:[^{}]|<BRACES>)*\\})";a=o(a).source,t.languages.astro=t.languages.extend("markup",n),t.languages.astro.tag.pattern=o("</?(?:[\\w.:-]+(?:<S>+(?:[\\w.:$-]+(?:=(?:\"(?:\\\\[^]|[^\\\\\"])*\"|'(?:\\\\[^]|[^\\\\'])*'|[^\\s{'\"/>=]+|<BRACES>))?|<SPREAD>))*<S>*/?)?>"),t.languages.astro.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.astro.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.astro.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.astro.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:o("<SPREAD>"),inside:t.languages.astro}},t.languages.astro.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:o("=<BRACES>"),inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.astro},alias:"language-"+e}},t.languages.astro.tag);var s=function(t){return t?"string"==typeof t?t:"string"==typeof t.content?t.content:t.content.map(s).join(""):""},r=function(e){for(var n=[],a=0;a<e.length;a++){var o=e[a];if("style"===o.type)return;var g=!1;if("string"!=typeof o&&("tag"===o.type&&o.content[0]&&"tag"===o.content[0].type?"</"===o.content[0].content[0].content?n.length>0&&n[n.length-1].tagName===s(o.content[0].content[1])&&n.pop():"/>"===o.content[o.content.length-1].content||n.push({tagName:s(o.content[0].content[1]),openedBraces:0}):n.length>0&&"punctuation"===o.type&&"{"===o.content?n[n.length-1].openedBraces++:n.length>0&&n[n.length-1].openedBraces>0&&"punctuation"===o.type&&"}"===o.content?n[n.length-1].openedBraces--:g=!0),(g||"string"==typeof o)&&n.length>0&&0===n[n.length-1].openedBraces){var i=s(o);a<e.length-1&&("string"==typeof e[a+1]||"plain-text"===e[a+1].type)&&(i+=s(e[a+1]),e.splice(a+1,1)),a>0&&("string"==typeof e[a-1]||"plain-text"===e[a-1].type)&&(i=s(e[a-1])+i,e.splice(a-1,1),a--),e[a]=new t.Token("plain-text",i,void 0,i)}o.content&&"string"!=typeof o.content&&r(o.content)}};t.hooks.add("after-tokenize",(function(t){"astro"===t.language&&r(t.tokens)}))}function o(t,e){return t=t.replace(/<S>/g,(function(){return"(?:\\s|//.*(?!.)|/\\*(?:[^*]|\\*(?!/))\\*/)"})).replace(/<BRACES>/g,(function(){return"(?:\\{(?:\\{(?:\\{[^{}]*\\}|[^{}])*\\}|[^{}])*\\})"})).replace(/<SPREAD>/g,(function(){return a})),RegExp(t,e)}}(Prism);